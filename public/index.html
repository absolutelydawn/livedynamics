<!Doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <title>S3 CRUD Example</title>
    </head>
    <body>
        <h1>S3 CRUD Example</h1>
        <hr />
        <h4>File Upload (Create)</h4>
        <hr />
        <form ref='uploadForm' id='uploadForm' action='/upload' method='post' encType="multipart/form-data">
            <input type="file" name="file" />
            <input type='submit' value='Upload!' />
        </form>
        <hr />
        <h4>File List (Read, Update, Delete)</h4>
        <hr />
        <iframe name="targetURL" class="iframe-preview center" width="90%" height="500" style="border:none" src="/list">
        </iframe>
        <hr />
        <script>
            function downloadFile(key) {
                var form = document.createElement('form');
                form.method = 'post';
                form.action = '/downloadFile';
                var input = document.createElement('input');
                input.type = 'hidden';
                input.name = 'dlKey';
                input.value = key;
                form.appendChild(input);
                document.body.appendChild(form);
                form.submit();
                document.body.removeChild(form);
            }

            function deleteFile(key) {
                var form = document.createElement('form');
                form.method = 'post';
                form.action = '/deleteFile';
                var input = document.createElement('input');
                input.type = 'hidden';
                input.name = 'dlKey';
                input.value = key;
                form.appendChild(input);
                document.body.appendChild(form);
                form.submit();
                document.body.removeChild(form);
            }
        </script>
    </body>
</html>

